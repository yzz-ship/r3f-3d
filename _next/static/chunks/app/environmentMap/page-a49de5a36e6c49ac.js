(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5202],{371:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var a=r(3264);class n extends a.BRH{constructor(e){super(e),this.type=a.ix0}parse(e){let t,r,n,s=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},i=function(e,t,r){t=t||1024;let a=e.pos,n=-1,s=0,i="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(a,a+128)));for(;0>(n=o.indexOf("\n"))&&s<t&&a<e.byteLength;)i+=o,s+=o.length,a+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(a,a+128)));return -1<n&&(!1!==r&&(e.pos+=s+n+1),i+o.slice(0,n))},o=new Uint8Array(e);o.pos=0;let l=function(e){let t,r,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,n=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,d={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=i(e))||s(1,"no header found"),(r=t.match(/^#\?(\S+)/))||s(3,"bad initial token"),d.valid|=1,d.programtype=r[1],d.string+=t+"\n";!1!==(t=i(e));){if(d.string+=t+"\n","#"===t.charAt(0)){d.comments+=t+"\n";continue}if((r=t.match(a))&&(d.gamma=parseFloat(r[1])),(r=t.match(n))&&(d.exposure=parseFloat(r[1])),(r=t.match(o))&&(d.valid|=2,d.format=r[1]),(r=t.match(l))&&(d.valid|=4,d.height=parseInt(r[1],10),d.width=parseInt(r[2],10)),2&d.valid&&4&d.valid)break}return 2&d.valid||s(3,"missing format specifier"),4&d.valid||s(3,"missing image size specifier"),d}(o),d=l.width,c=l.height,h=function(e,t,r){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&s(3,"wrong scanline width");let a=new Uint8Array(4*t*r);a.length||s(4,"unable to allocate buffer space");let n=0,i=0,o=4*t,l=new Uint8Array(4),d=new Uint8Array(o),c=r;for(;c>0&&i<e.byteLength;){i+4>e.byteLength&&s(1),l[0]=e[i++],l[1]=e[i++],l[2]=e[i++],l[3]=e[i++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=t)&&s(3,"bad rgbe scanline format");let r=0,h;for(;r<o&&i<e.byteLength;){let t=(h=e[i++])>128;if(t&&(h-=128),(0===h||r+h>o)&&s(3,"bad scanline data"),t){let t=e[i++];for(let e=0;e<h;e++)d[r++]=t}else d.set(e.subarray(i,i+h),r),r+=h,i+=h}for(let e=0;e<t;e++){let r=0;a[n]=d[e+r],r+=t,a[n+1]=d[e+r],r+=t,a[n+2]=d[e+r],r+=t,a[n+3]=d[e+r],n+=4}c--}return a}(o.subarray(o.pos),d,c);switch(this.type){case a.RQf:let p=new Float32Array(4*(n=h.length/4));for(let e=0;e<n;e++)!function(e,t,r,a){let n=Math.pow(2,e[t+3]-128)/255;r[a+0]=e[t+0]*n,r[a+1]=e[t+1]*n,r[a+2]=e[t+2]*n,r[a+3]=1}(h,4*e,p,4*e);t=p,r=a.RQf;break;case a.ix0:let u=new Uint16Array(4*(n=h.length/4));for(let e=0;e<n;e++)!function(e,t,r,n){let s=Math.pow(2,e[t+3]-128)/255;r[n+0]=a.GxU.toHalfFloat(Math.min(e[t+0]*s,65504)),r[n+1]=a.GxU.toHalfFloat(Math.min(e[t+1]*s,65504)),r[n+2]=a.GxU.toHalfFloat(Math.min(e[t+2]*s,65504)),r[n+3]=a.GxU.toHalfFloat(1)}(h,4*e,u,4*e);t=u,r=a.ix0;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:d,height:c,data:t,header:l.string,gamma:l.gamma,exposure:l.exposure,type:r}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){switch(e.type){case a.RQf:case a.ix0:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=a.k6q,e.magFilter=a.k6q,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,n)}}},601:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),n=r(2115),s=r(7558),i=r(4688),o=r(5355),l=r(5377),d=r(897),c=r(371),h=r(3264);function p(){let{scene:e,gl:t}=(0,o.A)();(0,n.useRef)();let r=(0,n.useRef)({});r.current.envMapIntensity=2.5;let s=(0,o.F)(c.Y,"/textures/environment/2k.hdr");s.mapping=h.wfO,e.background=s,e.environment=s;let i=(0,l.p)("/models/FlightHelmet/glTF/FlightHelmet.gltf");(0,n.useEffect)(()=>{i.scene.scale.set(6,6,6),i.scene.position.set(0,-2,0),i.scene.rotation.y=-(.25*Math.PI),e.add(i.scene)},[]),(0,n.useEffect)(()=>{let t=new d.cL;return t.add(r.current,"envMapIntensity",0,10,.01).onChange(()=>{p()}),t.add(e,"backgroundBlurriness",0,1,.01),t.add(e,"backgroundIntensity",0,1,.01),()=>{t.destroy()}},[]);let p=(0,n.useCallback)(()=>{e.traverse(e=>{e.isMesh&&e.material.isMeshStandardMaterial&&(e.material.envMap=s,e.material.envMapIntensity=r.current.envMapIntensity)})},[]);return(0,a.jsx)(a.Fragment,{})}function u(){return(0,a.jsxs)(s.Hl,{dpr:[1.5,2],fallback:(0,a.jsx)("div",{children:"Sorry no WebGL supported!"}),children:[(0,a.jsx)(i.N,{enableDamping:!0,dampingFactor:.05}),(0,a.jsx)(n.Suspense,{fallback:null,children:(0,a.jsx)(p,{})})]})}},1450:(e,t,r)=>{Promise.resolve().then(r.bind(r,601))}},e=>{var t=t=>e(e.s=t);e.O(0,[1831,9367,8413,3562,4688,6176,5377,897,8441,1684,7358],()=>t(1450)),_N_E=e.O()}]);