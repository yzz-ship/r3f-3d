(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1448],{726:(e,t,n)=>{Promise.resolve().then(n.bind(n,4640))},2660:(e,t,n)=>{"use strict";n.d(t,{zo:()=>i});var s=n(2115),a=n(3264),r=n(5355);let o=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function i(e,t){let n=(0,r.A)(e=>e.gl),i=(0,r.F)(a.Tap,o(e)?Object.values(e):e);return(0,s.useLayoutEffect)(()=>{null==t||t(i)},[t]),(0,s.useEffect)(()=>{if("initTexture"in n){let e=[];Array.isArray(i)?e=i:i instanceof a.gPd?e=[i]:o(i)&&(e=Object.values(i)),e.forEach(e=>{e instanceof a.gPd&&n.initTexture(e)})}},[n,i]),(0,s.useMemo)(()=>{if(!o(e))return i;{let t={},n=0;for(let s in e)t[s]=i[n++];return t}},[e,i])}i.preload=e=>r.F.preload(a.Tap,e),i.clear=e=>r.F.clear(a.Tap,e)},4640:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var s=n(5155),a=n(2115),r=n(7558),o=n(4688),i=n(1675),c=n(2660),p=n(897);function l(e){let{r:t,position:n}=e,a="/r3f-3d",r=new Audio("".concat(a,"/assets/sounds/hit.mp3")),[o]=(0,i.l4)(()=>({mass:1,position:n,scale:[t,t,t],onCollide:e=>{let t=e.contact.impactVelocity;t>1.5&&(r.volume=t/10,r.currentTime=0,r.play())}})),p=(0,c.zo)(["".concat(a,"/assets/textures/environment/0/px.jpg"),"".concat(a,"/assets/textures/environment/0/nx.jpg"),"".concat(a,"/assets/textures/environment/0/py.jpg"),"".concat(a,"/assets/textures/environment/0/ny.jpg"),"".concat(a,"/assets/textures/environment/0/pz.jpg"),"".concat(a,"/assets/textures/environment/0/nz.jpg")]);return(0,s.jsxs)("mesh",{ref:o,castShadow:!0,children:[(0,s.jsx)("sphereGeometry",{args:[t,32,32]}),(0,s.jsx)("meshStandardMaterial",{metalness:.3,roughness:.4,envMap:p,envMapIntensity:.5})]})}function u(e){let{args:t,position:n}=e,a="/r3f-3d",r=new Audio("".concat(a,"/assets/sounds/hit.mp3")),o=(0,c.zo)(["".concat(a,"/assets/textures/environment/0/px.jpg"),"".concat(a,"/assets/textures/environment/0/nx.jpg"),"".concat(a,"/assets/textures/environment/0/py.jpg"),"".concat(a,"/assets/textures/environment/0/ny.jpg"),"".concat(a,"/assets/textures/environment/0/pz.jpg"),"".concat(a,"/assets/textures/environment/0/nz.jpg")]),[p]=(0,i.z9)(()=>({mass:1,position:n,args:t,onCollide:e=>{let t=e.contact.impactVelocity;t>1.5&&(r.volume=t/10,r.currentTime=0,r.play())}}));return(0,s.jsxs)("mesh",{ref:p,children:[(0,s.jsx)("boxGeometry",{args:t}),(0,s.jsx)("meshStandardMaterial",{metalness:.3,roughness:.4,envMap:o,envMapIntensity:.5})]})}let d=function(){let e="/r3f-3d",t=(0,c.zo)(["".concat(e,"/assets/textures/environment/0/px.jpg"),"".concat(e,"/assets/textures/environment/0/nx.jpg"),"".concat(e,"/assets/textures/environment/0/py.jpg"),"".concat(e,"/assets/textures/environment/0/ny.jpg"),"".concat(e,"/assets/textures/environment/0/pz.jpg"),"".concat(e,"/assets/textures/environment/0/nz.jpg")]),[n,r]=(0,a.useState)([]),o=null,d={createBox:function(){let e={type:"box",position:[(Math.random()-.5)*3,3,(Math.random()-.5)*3],args:[Math.random(),Math.random(),Math.random()]};r(t=>[...t,e])},createSphere:function(){let e={type:"sphere",position:[(Math.random()-.5)*3,3,(Math.random()-.5)*3],r:.5*Math.random()};r(t=>[...t,e])},reset:function(){r([])}},m=(0,a.useRef)(),[f]=(0,i.ON)(()=>({rotation:[-Math.PI/2,0,0]}));return(0,a.useEffect)(()=>((o=new p.cL).add(d,"createSphere"),o.add(d,"createBox"),o.add(d,"reset"),()=>{o.destroy()}),[]),(0,s.jsxs)("group",{ref:m,children:[n.map((e,t)=>"sphere"===e.type?(0,s.jsx)(l,{position:e.position,r:e.r},t):(0,s.jsx)(u,{position:e.position,args:e.args},t)),(0,s.jsxs)("mesh",{ref:f,castShadow:!0,children:[(0,s.jsx)("planeGeometry",{args:[10,10]}),(0,s.jsx)("meshStandardMaterial",{color:"#ffffff",metalness:.3,roughness:.4,envMap:t,envMapIntensity:.5})]})]})};function m(){return(0,s.jsxs)(r.Hl,{dpr:[1.5,2],camera:{position:[-3,3,3]},fallback:(0,s.jsx)("div",{children:"Sorry no WebGL supported!"}),children:[(0,s.jsx)(o.N,{enableDamping:!0,dampingFactor:.05}),(0,s.jsx)("ambientLight",{color:"#ffffff",intensity:.7}),(0,s.jsx)("directionalLight",{castShadow:!0,color:"#ffffff",position:[5,5,5],intensity:1,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":15,"shadow-camera-left":-7,"shadow-camera-right":7,"shadow-camera-top":7,"shadow-camera-bottom":-7}),(0,s.jsx)(a.Suspense,{fallback:null,children:(0,s.jsx)(i.AQ,{gravity:[0,-9.81,0],defaultContactMaterial:{restitution:.7,friction:.1},allowSleep:!0,children:(0,s.jsx)(d,{})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1831,9367,8413,5716,3562,4688,897,8441,1684,7358],()=>t(726)),_N_E=e.O()}]);