(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1448],{726:(e,t,n)=>{Promise.resolve().then(n.bind(n,4640))},2660:(e,t,n)=>{"use strict";n.d(t,{zo:()=>i});var r=n(2115),a=n(3264),s=n(5355);let o=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function i(e,t){let n=(0,s.A)(e=>e.gl),i=(0,s.F)(a.Tap,o(e)?Object.values(e):e);return(0,r.useLayoutEffect)(()=>{null==t||t(i)},[t]),(0,r.useEffect)(()=>{if("initTexture"in n){let e=[];Array.isArray(i)?e=i:i instanceof a.gPd?e=[i]:o(i)&&(e=Object.values(i)),e.forEach(e=>{e instanceof a.gPd&&n.initTexture(e)})}},[n,i]),(0,r.useMemo)(()=>{if(!o(e))return i;{let t={},n=0;for(let r in e)t[r]=i[n++];return t}},[e,i])}i.preload=e=>s.F.preload(a.Tap,e),i.clear=e=>s.F.clear(a.Tap,e)},4640:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(5155),a=n(2115),s=n(7558),o=n(4688),i=n(1675),p=n(2660),l=n(897);function u(e){let{r:t,position:n}=e,a=new Audio("/sounds/hit.mp3"),[s]=(0,i.l4)(()=>({mass:1,position:n,scale:[t,t,t],onCollide:e=>{let t=e.contact.impactVelocity;t>1.5&&(a.volume=t/10,a.currentTime=0,a.play())}})),o=(0,p.zo)(["/textures/environment/0/px.jpg","/textures/environment/0/nx.jpg","/textures/environment/0/py.jpg","/textures/environment/0/ny.jpg","/textures/environment/0/pz.jpg","/textures/environment/0/nz.jpg"]);return(0,r.jsxs)("mesh",{ref:s,castShadow:!0,children:[(0,r.jsx)("sphereGeometry",{args:[t,32,32]}),(0,r.jsx)("meshStandardMaterial",{metalness:.3,roughness:.4,envMap:o,envMapIntensity:.5})]})}function c(e){let{args:t,position:n}=e,a=new Audio("/sounds/hit.mp3"),s=(0,p.zo)(["/textures/environment/0/px.jpg","/textures/environment/0/nx.jpg","/textures/environment/0/py.jpg","/textures/environment/0/ny.jpg","/textures/environment/0/pz.jpg","/textures/environment/0/nz.jpg"]),[o]=(0,i.z9)(()=>({mass:1,position:n,args:t,onCollide:e=>{let t=e.contact.impactVelocity;t>1.5&&(a.volume=t/10,a.currentTime=0,a.play())}}));return(0,r.jsxs)("mesh",{ref:o,children:[(0,r.jsx)("boxGeometry",{args:t}),(0,r.jsx)("meshStandardMaterial",{metalness:.3,roughness:.4,envMap:s,envMapIntensity:.5})]})}let m=function(){let e=(0,p.zo)(["/textures/environment/0/px.jpg","/textures/environment/0/nx.jpg","/textures/environment/0/py.jpg","/textures/environment/0/ny.jpg","/textures/environment/0/pz.jpg","/textures/environment/0/nz.jpg"]),[t,n]=(0,a.useState)([]),s=null,o={createBox:function(){let e={type:"box",position:[(Math.random()-.5)*3,3,(Math.random()-.5)*3],args:[Math.random(),Math.random(),Math.random()]};n(t=>[...t,e])},createSphere:function(){let e={type:"sphere",position:[(Math.random()-.5)*3,3,(Math.random()-.5)*3],r:.5*Math.random()};n(t=>[...t,e])},reset:function(){n([])}},m=(0,a.useRef)(),[d]=(0,i.ON)(()=>({rotation:[-Math.PI/2,0,0]}));return(0,a.useEffect)(()=>((s=new l.cL).add(o,"createSphere"),s.add(o,"createBox"),s.add(o,"reset"),()=>{s.destroy()}),[]),(0,r.jsxs)("group",{ref:m,children:[t.map((e,t)=>"sphere"===e.type?(0,r.jsx)(u,{position:e.position,r:e.r},t):(0,r.jsx)(c,{position:e.position,args:e.args},t)),(0,r.jsxs)("mesh",{ref:d,castShadow:!0,children:[(0,r.jsx)("planeGeometry",{args:[10,10]}),(0,r.jsx)("meshStandardMaterial",{color:"#ffffff",metalness:.3,roughness:.4,envMap:e,envMapIntensity:.5})]})]})};function d(){return(0,r.jsxs)(s.Hl,{dpr:[1.5,2],camera:{position:[-3,3,3]},fallback:(0,r.jsx)("div",{children:"Sorry no WebGL supported!"}),children:[(0,r.jsx)(o.N,{enableDamping:!0,dampingFactor:.05}),(0,r.jsx)("ambientLight",{color:"#ffffff",intensity:.7}),(0,r.jsx)("directionalLight",{castShadow:!0,color:"#ffffff",position:[5,5,5],intensity:1,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":15,"shadow-camera-left":-7,"shadow-camera-right":7,"shadow-camera-top":7,"shadow-camera-bottom":-7}),(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)(i.AQ,{gravity:[0,-9.81,0],defaultContactMaterial:{restitution:.7,friction:.1},allowSleep:!0,children:(0,r.jsx)(m,{})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1831,9367,8413,5716,3562,4688,897,8441,1684,7358],()=>t(726)),_N_E=e.O()}]);